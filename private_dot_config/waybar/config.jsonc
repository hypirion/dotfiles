// I use NerdFont as font. May want to replace some icons with SVG ones.
{
    "layer": "top",
    "modules-left": ["niri/workspaces", "niri/window"],
    "modules-center": ["clock"],
    // Bluetooth is in the tray, so no worries there
    "modules-right": ["tray",  "battery", "niri/language", "custom/power", "cpu", "memory", "network", "pulseaudio"],


    "pulseaudio": {
        "format": "{icon} {volume}%",
        "format-muted": "ÔÄ¶ [M]",
        "format-icons": {
            "headphones": "ÔÄ•",
            "default": ["ÔÄ¶", "ÔÄß", "ÔÄ®"]   // low ‚Üí high
        },

        // Clicks & scroll using wpctl (PipeWire)
        "on-click": "wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle",
        "on-click-middle": "wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle",   // mic mute toggle
        "on-click-right": "pavucontrol",
        "on-scroll-up": "wpctl set-volume -l 1.0 @DEFAULT_AUDIO_SINK@ 5%+",
        "on-scroll-down": "wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-",

        "tooltip-format": "{desc}\n{volume}%"
    },
    "niri/workspaces": {
        "format": "{index}"
    },
    "niri/language": {
        "format": "{}",
        "format-no": "üá≥üá¥",
        "format-en": "üá∫üá∏",

        "on-click": "niri msg action switch-layout next"
    },
    "clock": {
        "format": "{:%d %b %H:%M}",
        "interval": 1,
        "tooltip": false,

        "on-click": "eww open --toggle calendar"
    },
    "tray": {
    	  "spacing": 12
    },
    "memory": {
        "format": "Û∞çõ {percentage:>3}%",
        "states": { "warning": 70, "critical": 85 },
        "interval": 1
    },
    "cpu": {
        "format": "Ôãõ {usage:>3}%",
        "states": { "warning": 70, "critical": 85 },
        "interval": 1
    },
    "battery": {
        "format": "{icon} {capacity:>2}%",
        "format-plugged":  "Ôá¶ {capacity:>2}%",
        "format-full":     "Ôá¶ {capacity:>2}%",
        "format-charging": "ÔÉß {capacity:>2}%",
        "format-icons": [                      // 0‚Äì100% in ~10 steps
            "ÔâÑ", "ÔâÑ",                           // empty
            "ÔâÉ", "ÔâÉ",                           // quarter
            "ÔâÇ", "ÔâÇ",                           // half
            "ÔâÅ", "ÔâÅ",                           // three-quarters
            "ÔâÄ", "ÔâÄ"                            // full
        ],
        // States used for css, see #battery in styles.
        "states": { "good": 60, "warning": 30, "critical": 15 },
        "interval": 5
    },
    "network": {
        "format-wifi": "Ôá´  {signalStrength:>2}%",
        "format-ethernet": "Ôõø {ipaddr}",
        "format-disconnected": "ÔÅû",
        "interval": 3,
        "on-click": "nmcli dev wifi rescan && ghostty -e nmtui",
    },

    "custom/power": {
        "exec": "~/.local/bin/waybar-power-mode.sh print",
        "return-type": "json",
        "format": "{icon}",
        "format-icons": {
            "performance": "Û±üï",
            "balanced": "Û±üì",
            "eco": "Û∞ó¢",
            "unknown": "ÔÅô"
        },
        "tooltip": true,
        "interval": 60,
        "signal": 8,
        "on-click": "~/.local/bin/waybar-power-mode.sh toggle && pkill -RTMIN+8 waybar",
    }

}
